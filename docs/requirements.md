# 开发者工具集需求文档

## 项目概述

### 项目名称
开发者工具集 (Developer Tools Collection)

### 项目描述
一个集成多种实用开发工具的在线平台，专注于RTB广告开发和数据分析场景，提供一站式的工具解决方案。

### 项目目标
- 提升RTB开发人员的工作效率
- 简化常用数据处理和分析流程
- 提供直观易用的Web界面
- 支持批量数据处理和导出功能

## 功能需求

### 1. ADM转换器 📱

#### 功能描述
将RTB Bid Response中的ADM内容转换为可预览的HTML文件

#### 核心功能
- **JSON解析**: 自动解析Bid Response JSON格式
- **转义处理**: 支持转义JSON格式的自动识别和处理
- **HTML解码**: 将ADM中的HTML实体转换为可读格式
- **实时预览**: 内置iframe预览转换后的广告效果
- **文件下载**: 一键下载转换后的HTML文件
- **代码复制**: 快速复制HTML代码到剪贴板

#### 输入格式
```json
{
    "id": "46cb0e34-7388-41cc-99cb-d0af69fbe960",
    "seatbid": [
        {
            "bid": [
                {
                    "adm": "<!DOCTYPE html>..."
                }
            ]
        }
    ]
}
```

#### 技术要求
- 支持标准JSON和转义JSON格式
- 自动检测和处理Unicode转义字符
- 错误处理和用户友好的提示信息

### 2. 时间戳转换器 ⏰

#### 功能描述
Unix时间戳与日期时间的双向转换，基于UTC+8时区

#### 核心功能
- **时间戳转日期**: 支持10位(秒)和13位(毫秒)时间戳
- **日期转时间戳**: 支持年月日时分秒的独立输入
- **时区处理**: 所有时间基于UTC+8(中国标准时间)
- **格式化显示**: 多种日期格式展示
- **当前时间**: 快速获取当前时间戳和日期
- **星期显示**: 自动显示对应的星期几
- **默认值**: 页面加载时自动填充今天日期

#### 输入要求
- 时间戳: 支持秒级和毫秒级
- 日期: 年(1970-2100)、月(1-12)、日(1-31)、时(0-23)、分(0-59)、秒(0-59)
- 时分秒默认值: 00:00:00

#### 输出格式
- 标准格式: YYYY-MM-DD HH:mm:ss
- 中文格式: YYYY年MM月DD日 HH:mm:ss
- 时间戳: 秒级和毫秒级

### 3. URL编解码工具 🔗

#### 功能描述
URL编码解码和Base64编解码的双向转换工具

#### 核心功能
- **URL编码**: 将中文和特殊字符转换为%编码格式
- **URL解码**: 将%编码格式还原为原始字符
- **Base64编码**: 将文本转换为Base64格式
- **Base64解码**: 将Base64格式还原为原始文本
- **UTF-8支持**: 完美处理中文字符编码
- **批量处理**: 支持大段文本的编解码

#### 使用场景
- API参数处理
- 数据传输编码
- 认证token处理
- 图片数据编码

### 4. Bid识别工具 🎯

#### 功能描述
解析RTB Bid Request/Response，提供结构化的可读性分析

#### 核心功能
- **智能识别**: 自动判断Bid Request或Bid Response
- **转义处理**: 支持转义JSON格式的自动解析
- **结构化分析**: 将复杂的Bid数据转换为可读格式
- **拦截规则解析**: 详细解析badv、bcat、battr等拦截规则
- **设备信息展示**: 清晰展示设备和广告位信息
- **JSON格式化**: 美化显示原始JSON数据

#### Bid Response分析
- **基本信息**: ID、Bid ID、货币、价格等
- **竞价详情**: 创意ID、广告尺寸、广告域名等
- **ADM检测**: 自动检测广告内容

#### Bid Request分析
- **广告位信息**: Impression ID、底价、广告类型等
- **设备信息**: User Agent、IP、设备型号等
- **拦截规则**: 
  - **badv**: 拦截广告主域名列表
  - **bcat**: IAB广告类别拦截(支持26个主要类别的中文解释)
  - **battr**: 广告属性拦截(支持16种标准属性的详细说明)

#### IAB类别支持
- IAB1: 艺术与娱乐
- IAB2: 汽车
- IAB22: 购物
- IAB25: 非标准内容
- 等26个主要类别

#### 广告属性支持
- 1: 音频广告(自动播放)
- 4: 可展开广告(用户点击)
- 7: 弹窗广告
- 16: Adobe Flash
- 等16种标准属性

### 5. 细粒度预算调整工具 💰

#### 功能描述
管理和调整细粒度预算配置，支持批量更新、删除和智能识别，当前预算配置为可选输入

#### 核心功能
- **双模式操作**: 支持更新预算和删除预算两种模式
- **智能识别**: 自动区分维度组合和预算值
- **Excel兼容**: 支持从Excel直接复制粘贴数据
- **默认预算**: 支持为未指定预算的组合设置默认值
- **完整输出**: 生成包含所有配置的完整预算记录
- **批量删除**: 支持批量删除指定的预算配置
- **灵活输入**: 当前预算配置为非必填，支持从零开始创建预算

#### 操作模式

##### 更新预算模式
- **功能**: 更新现有配置或新增配置
- **输入**: [当前预算配置(可选)] + 更新规则 + 默认预算
- **输出**: 更新后的完整预算配置
- **说明**: 当前预算配置为空时，将基于更新规则创建全新的预算配置

##### 删除预算模式
- **功能**: 删除指定的预算配置
- **输入**: 当前预算配置(必填) + 删除规则
- **输出**: 删除后的完整预算配置
- **说明**: 删除模式需要提供当前预算配置作为删除基础

#### 输入格式

##### 当前预算配置 (可选)
```
adx#first_ssp#bundle#placement:预算值
adx#first_ssp#bundle#:预算值
```
**说明**: 在更新预算模式下，此项为可选输入。为空时将创建全新的预算配置。

##### 更新规则
```
adx	first_ssp	bundle	placement	[预算值]
adx	first_ssp	bundle	[预算值]
```

##### 删除规则
```
adx	first_ssp	bundle	placement
adx	first_ssp	bundle
```

#### 智能识别规则
- **4个输入项**: 
  - 最后一位是数字且不是1000倍数 → 按adx+first_ssp+bundle+placement处理
  - 最后一位是1000倍数 → 视为预算值
  - 最后一位非数字 → 按adx+first_ssp+bundle+placement处理

#### 统计功能

##### 更新模式统计
- 总配置数、已更新数、新增数、未变更数
- 原总预算、新总预算、预算变化
- 从零创建时显示: 新建配置数、总预算设置

##### 删除模式统计
- 原配置数、已删除数、未找到数、剩余配置数
- 原总预算、剩余预算、预算减少

### 6. 预算与Impression对比分析 📊

#### 功能描述
对比当前预算设置与昨日实际曝光数据，提供优化建议和详细分析

#### 核心功能
- **智能对比**: 自动匹配预算配置与实际曝光数据
- **状态标识**: 用不同颜色直观显示预算状态
- **详细分析**: 提供使用率、状态等详细信息
- **CSV导出**: 支持导出详细的对比分析结果
- **统计汇总**: 提供整体的预算使用情况分析
- **Excel兼容**: 支持从Excel直接复制impression数据

#### 状态分类
- 🔴 **预算不足**: 昨日impression > 预算cap (需要增加预算)
- 🟢 **预算充足**: 昨日impression < 预算cap (预算有余量)
- 🟡 **预算匹配**: 昨日impression = 预算cap (预算设置合理)
- 🔵 **无曝光**: 有预算但无曝光数据 (需要检查投放设置)
- 🟣 **无预算**: 有曝光但无预算配置 (需要添加预算控制)

#### 输入格式

##### 预算配置
```
flatads#chartboost.com#com.vitastudio.mahjong#0d9d8f05:1000
flatads#chartboost.com#com.vitastudio.mahjong#:500
```

##### 昨日Impression数据
```
flatads	chartboost.com	com.vitastudio.mahjong	0d9d8f05	800
flatads	chartboost.com	com.vitastudio.mahjong	600
```

#### 导出功能
- **CSV格式**: 包含完整的对比分析数据
- **字段拆分**: 将组合key拆分为独立字段便于分析
- **UTF-8编码**: 支持中文字符正确显示
- **自动命名**: 文件名包含当前日期
- **Excel兼容**: 可直接在Excel中打开和分析

#### 统计信息
- **总组合数**: 参与对比的组合总数
- **预算状态分布**: 各种状态的组合数量
- **总预算**: 所有组合的预算总和
- **总曝光**: 昨日曝光总数
- **预算使用率**: 整体预算使用效率

## 技术规格

### 前端技术
- **HTML5**: 现代Web标准
- **CSS3**: 响应式设计，支持移动端
- **JavaScript ES6+**: 原生JavaScript，无外部依赖
- **单页应用**: 所有工具集成在一个页面中

### 界面设计
- **顶部导航**: 水平菜单栏，支持快速切换
- **响应式布局**: 自适应桌面和移动设备
- **现代化UI**: 卡片式设计，渐变背景
- **状态反馈**: 实时的成功/错误提示信息
- **模式切换**: 单选按钮控制操作模式

### 数据处理
- **客户端处理**: 所有数据处理在浏览器端完成
- **隐私保护**: 数据不会上传到服务器
- **错误处理**: 完善的输入验证和错误提示
- **性能优化**: 高效的数据解析和处理算法
- **智能识别**: 自动识别数据格式和处理模式

### 兼容性要求
- **浏览器支持**: Chrome 80+, Firefox 75+, Safari 13+, Edge 80+
- **移动端**: iOS Safari, Android Chrome
- **功能支持**: Clipboard API, File API, Blob API, Radio Button Events

## 部署要求

### 托管平台
- **GitHub Pages**: 免费静态网站托管
- **自定义域名**: 支持绑定自定义域名
- **HTTPS**: 强制使用HTTPS协议

### 文件结构
```
docs/
├── index.html          # 主页面文件
├── README.md          # 项目说明文档
├── requirements.md    # 需求文档
└── _config.yml       # GitHub Pages配置
```

### 性能要求
- **加载时间**: 首次加载 < 3秒
- **响应时间**: 工具切换 < 500ms
- **文件大小**: 单文件 < 800KB
- **内存使用**: 运行时内存 < 100MB

## 用户体验

### 易用性
- **直观界面**: 清晰的标签和说明文字
- **示例数据**: 每个输入框都有详细的示例
- **操作反馈**: 实时的操作状态提示
- **错误处理**: 友好的错误信息和解决建议
- **模式指引**: 清晰的操作模式说明和切换

### 功能完整性
- **一站式服务**: 涵盖RTB开发的主要工具需求
- **数据导出**: 支持多种格式的数据导出
- **批量处理**: 支持大量数据的批量操作
- **格式兼容**: 支持Excel等常用工具的数据格式
- **CRUD操作**: 完整的创建、读取、更新、删除功能

### 扩展性
- **模块化设计**: 每个工具独立，便于维护和扩展
- **统一接口**: 一致的用户交互模式
- **预留空间**: 为未来新工具预留菜单位置

## 测试要求

### 功能测试
- **基础功能**: 每个工具的核心功能正常运行
- **边界测试**: 极端数据和异常输入的处理
- **兼容性测试**: 不同浏览器和设备的兼容性
- **性能测试**: 大数据量处理的性能表现
- **模式切换**: 操作模式切换的正确性

### 用户测试
- **易用性测试**: 新用户的上手难度
- **效率测试**: 完成常见任务的时间
- **错误恢复**: 用户操作错误后的恢复能力

## 维护计划

### 版本管理
- **语义化版本**: 使用语义化版本号管理
- **变更日志**: 详细记录每次更新的内容
- **向后兼容**: 保持数据格式的向后兼容性

### 功能扩展
- **JSON格式化工具**: 计划中的下一个工具
- **正则表达式测试器**: 开发者常用工具
- **颜色工具**: 设计相关的辅助工具
- **用户反馈**: 根据用户需求添加新功能

## 成功指标

### 技术指标
- **可用性**: 99.9%的服务可用时间
- **性能**: 平均响应时间 < 1秒
- **错误率**: 用户操作错误率 < 3%

### 业务指标
- **用户满意度**: 用户反馈评分 > 4.5/5
- **使用频率**: 月活跃用户增长
- **功能覆盖**: 覆盖RTB开发90%的常用场景

## 更新历史

### v2.0 (2024-11-25)
- **新增**: 预算删除功能
- **新增**: 预算与impression对比分析
- **新增**: CSV导出功能
- **优化**: 智能识别算法
- **优化**: 用户界面和交互体验

### v1.0 (2024-11-18)
- **初始版本**: 5个核心工具
- **基础功能**: ADM转换、时间戳转换、URL编解码、Bid识别、预算调整

---

**文档版本**: v2.0  
**创建日期**: 2024-11-18  
**最后更新**: 2024-11-25  
**负责人**: 开发团队
